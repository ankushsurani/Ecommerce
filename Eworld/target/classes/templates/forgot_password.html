<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})">
  <head>
    <title>Bootstrap demo</title>
  </head>
  
  <body>
  
    <section>


	<div class="container">
	
	
		<div class="row content-center" style="margin-top: 10%;">
		<div class="col-md-4">
            
            <div class="card shadow">
            
            	<div class="card-body">
            	
            		<div class="panel panel-default">
		              <div class="panel-body">
		                
		                
		                <!-- messages of success and error -->
					<div th:if="${session.message}" class="text-center">
						<div th:classappend="${session.message.type}" class="alert alert-primary" role="alert">
				  			<span th:text="${session.message.content}"></span>
						</div>
						<th:block th:text="${#session.removeAttribute('message')}"></th:block>
					</div>
		                
		                
		                
		                <div>
		                  <h3 class="text-center"><i class="fa fa-lock fa-4x"></i></h3>
		                  <h2 class="text-center">Forgot Password?</h2>
		                  <p class="text-center">You can reset your password here.</p>
		                  <div class="panel-body">
		    
		                    <form th:if="${addOtp == false}" th:action="@{/send-otp}" method="post">
		                      
		                      <div class="form-floating mb-3">
								  <input type="email" required="required" name="forgot_email" class="form-control" placeholder="name@example.com">
								  <label for="floatingInput">Email address</label>
								</div>
		                      
		                        <div class="d-grid gap-2 mt-3">
								  <button th:if="${(param.forgot == null)}" class="btn btn-primary" type="submit">Send OTP</button>
								</div>
		                      
		                    </form>
		                    
		                    
		                    <form th:unless="${addOtp == false}" th:action="@{/submit-forgot}" method="post">
		                    
		                    	<input type="hidden" name="currentEmail" th:value="${currentEmail}">
		                    	<input type="hidden" name="forgotOtp" th:value="${forgotOtp}">
		                    
		                    	<div class="form-floating mb-3">
								  <input type="number" required="required" name="forgot_otp" class="form-control" placeholder="Enter OTP">
								  <label for="floatingInput">Enter OTP</label>
								</div>
								
								<div class="form-floating mb-3">
								  <input type="password" required="required" pattern="(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9].*[0-9])(?=.*[^a-zA-Z0-9]).{8,}" name="newPass" class="form-control" placeholder="Enter New Password">
								  <label for="floatingInput">Enter New Password</label>
								</div>
								
								<div class="form-floating mb-3">
								  <input type="password" required="required" pattern="(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9].*[0-9])(?=.*[^a-zA-Z0-9]).{8,}" name="retypePass" class="form-control" placeholder="Retype New Password">
								  <label for="floatingInput">Retype New Password</label>
								</div>
								
								<div class="d-grid gap-2 mt-3">
								  <button class="btn btn-primary" type="submit">Submit</button>
								</div>
		                    
		                    </form>
		                    
		                    
		    
		                  </div>
		                </div>
		              </div>
            </div>
            	
            	</div>
            
            </div>
            
          </div>
	</div>
	
	
	
		
		</div>
	
	</section>
      
  </body>
</html>